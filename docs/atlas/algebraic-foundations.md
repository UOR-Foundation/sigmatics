# Algebraic Foundations: The Tensor Product Structure

This document presents the algebraic substrate of Atlas: **SGA = Clâ‚€,â‚‡ âŠ— â„[â„¤â‚„] âŠ— â„[â„¤â‚ƒ]**

This is not a "design" but a **discovered mathematical structure** - the minimal algebraic entity supporting geometric computation with discrete symmetries.

## The Three Factors

Atlas emerges from the tensor product of three fundamental algebras. Each factor is unique and inevitable.

### Factor 1: Clifford Algebra Clâ‚€,â‚‡

**Definition**: The Clifford algebra generated by 7 orthonormal basis vectors {eâ‚, eâ‚‚, ..., eâ‚‡} with Euclidean signature.

**Geometric Product**:

```
eáµ¢ Â· eâ±¼ = eáµ¢ âˆ§ eâ±¼  (i â‰  j)
eáµ¢ Â· eáµ¢ = 1         (Euclidean)
```

Equivalently, the anticommutation relation:

```
eáµ¢eâ±¼ + eâ±¼eáµ¢ = 2Î´áµ¢â±¼
```

**Basis Structure**:

- **Grade 0** (scalar): 1 element = (â‚‡Câ‚€) = 1
- **Grade 1** (vectors): 7 elements = (â‚‡Câ‚) = 7
- **Grade 2** (bivectors): 21 elements = (â‚‡Câ‚‚) = 21
- **Grade 3** (trivectors): 35 elements = (â‚‡Câ‚ƒ) = 35
- **Grade 4**: 35 elements = (â‚‡Câ‚„) = 35
- **Grade 5**: 21 elements = (â‚‡Câ‚…) = 21
- **Grade 6**: 7 elements = (â‚‡Câ‚†) = 7
- **Grade 7** (pseudoscalar): 1 element = (â‚‡Câ‚‡) = 1

**Total dimension**: 2â· = 128

**Implementation**: [sga/clifford.ts](../../packages/core/src/sga/clifford.ts)

**Why 7 dimensions?**

The dimension 7 is tied to **octonions** - the unique 8-dimensional normed division algebra:

```
ğ•† = â„ âŠ• Im(ğ•†)
   = scalar âŠ• 7 imaginary units
```

The 7 imaginary units {eâ‚, ..., eâ‚‡} multiply according to the **Fano plane** (see [Geometric Foundations](./geometric-foundations.md)).

**Key Property**: Clâ‚€,â‚‡ is the **maximal Clifford algebra** that remains computationally tractable while preserving rich geometric structure. Dimension 8 would require 256 basis blades; dimension 7 requires 128 (still manageable).

**Involutions**:

```
Grade involution:    [eáµ¢â‚...eáµ¢â‚–]Ë† = (-1)^k eáµ¢â‚...eáµ¢â‚–
Reversion:           [eáµ¢â‚...eáµ¢â‚–]~ = eáµ¢â‚–...eáµ¢â‚
Clifford conjugate:  [x]* = [[x]~]Ë†
```

These involutions are used in the M (mirror) transform.

### Factor 2: Group Algebra â„[â„¤â‚„]

**Definition**: The real group algebra of the cyclic group of order 4.

**Basis**: {râ°, rÂ¹, rÂ², rÂ³} where r is the generator.

**General element**:

```
a = aâ‚€râ° + aâ‚rÂ¹ + aâ‚‚rÂ² + aâ‚ƒrÂ³    (aáµ¢ âˆˆ â„)
```

**Multiplication**: Convolution

```
(Î£ aáµ¢râ±)(Î£ bâ±¼rÊ²) = Î£â‚– (Î£áµ¢â‚Šâ±¼â‰¡â‚– aáµ¢bâ±¼) ráµ
```

where indices are reduced mod 4.

**Implementation**: [sga/group-algebras.ts](../../packages/core/src/sga/group-algebras.ts) (z4Multiply)

**Matrix Representation**: Multiplication by r is a circulant matrix:

```
r Â· [aâ‚€, aâ‚, aâ‚‚, aâ‚ƒ]áµ€ = [aâ‚ƒ, aâ‚€, aâ‚, aâ‚‚]áµ€
```

**Circulant matrix** for general element a = [aâ‚€, aâ‚, aâ‚‚, aâ‚ƒ]:

```
     [aâ‚€  aâ‚ƒ  aâ‚‚  aâ‚]
M =  [aâ‚  aâ‚€  aâ‚ƒ  aâ‚‚]
     [aâ‚‚  aâ‚  aâ‚€  aâ‚ƒ]
     [aâ‚ƒ  aâ‚‚  aâ‚  aâ‚€]
```

**Key Properties**:

- **Commutative**: ab = ba
- **Identity**: râ´ = 1
- **Inversion**: (ráµ)â»Â¹ = râ»áµ = râ½â´â»áµâ¾

**Semantic Interpretation**:

- râ°, rÂ¹, rÂ², rÂ³ correspond to **quadrants** or **scopes**
- Encoded in (hâ‚‚, d, â„“) coordinate as **hâ‚‚ âˆˆ {0,1,2,3}**

**Why â„¤â‚„?**

Four-fold rotational symmetry is the **minimal structure** supporting:

1. Cardinal directionality (4 orthogonal directions)
2. Quaternionic phase (iÂ² = -1 analogy in â„¤â‚„: rÂ² is self-inverse)
3. Complete rotational coverage (360Â° in 4 steps)

No smaller cyclic group provides these properties. Larger groups are redundant.

### Factor 3: Group Algebra â„[â„¤â‚ƒ]

**Definition**: The real group algebra of the cyclic group of order 3.

**Basis**: {Ï„â°, Ï„Â¹, Ï„Â²} where Ï„ is the generator.

**General element**:

```
b = bâ‚€Ï„â° + bâ‚Ï„Â¹ + bâ‚‚Ï„Â²    (báµ¢ âˆˆ â„)
```

**Multiplication**: Convolution (mod 3)

```
(Î£ báµ¢Ï„â±)(Î£ câ±¼Ï„Ê²) = Î£â‚– (Î£áµ¢â‚Šâ±¼â‰¡â‚– báµ¢câ±¼) Ï„áµ
```

**Implementation**: [sga/group-algebras.ts](../../packages/core/src/sga/group-algebras.ts) (z3Multiply)

**Matrix Representation**: Multiplication by Ï„ is a circulant matrix:

```
     [bâ‚€  bâ‚‚  bâ‚]
M =  [bâ‚  bâ‚€  bâ‚‚]
     [bâ‚‚  bâ‚  bâ‚€]
```

**Key Properties**:

- **Commutative**: bc = cb
- **Identity**: Ï„Â³ = 1
- **Inversion**: (Ï„áµ)â»Â¹ = Ï„â»áµ = Ï„â½Â³â»áµâ¾

**Semantic Interpretation**:

- Ï„â° = **neutral** modality
- Ï„Â¹ = **produce** modality
- Ï„Â² = **consume** modality
- Encoded in (hâ‚‚, d, â„“) coordinate as **d âˆˆ {0,1,2}**

**Why â„¤â‚ƒ?**

Triadic structure is the **minimal extension beyond binary**:

- Binary (â„¤â‚‚): Producer/consumer only, no neutral
- Triadic (â„¤â‚ƒ): Neutral + producer + consumer (minimal complete system)
- Higher (â„¤â‚„, â„¤â‚…, ...): Redundant subdivisions

**Triality** is fundamental: every producer has a corresponding consumer, with neutral as the mediating ground.

## The Tensor Product: SGA

**Definition**:

```
SGA := Clâ‚€,â‚‡ âŠ—_â„ â„[â„¤â‚„] âŠ—_â„ â„[â„¤â‚ƒ]
```

**Dimension**:

```
dim(SGA) = dim(Clâ‚€,â‚‡) Ã— dim(â„[â„¤â‚„]) Ã— dim(â„[â„¤â‚ƒ])
         = 128 Ã— 4 Ã— 3
         = 1,536
```

**Basis**:

```
B = {eáµ¢â‚âˆ§...âˆ§eáµ¢â‚– âŠ— rÊ° âŠ— Ï„áµˆ : k âˆˆ {0..7}, h âˆˆ {0..3}, d âˆˆ {0..2}}
```

**General element**:

```
x = Î£ câ‚–,â‚•,áµˆ (eáµ¢â‚âˆ§...âˆ§eáµ¢â‚– âŠ— rÊ° âŠ— Ï„áµˆ)
```

**Multiplication**: Componentwise geometric product Ã— convolution Ã— convolution

```
(a âŠ— rÊ° âŠ— Ï„áµˆ) Â· (b âŠ— ráµ âŠ— Ï„áµ‰) = (aÂ·b) âŠ— rÊ°âºáµ âŠ— Ï„áµˆâºáµ‰
```

where:

- aÂ·b is the Clifford geometric product
- h+g is computed mod 4
- d+e is computed mod 3

**Implementation**: [sga/](../../packages/core/src/sga/)

## Rank-1 Restriction: The 96-Class Basis

**Problem**: Full SGA has 1,536 dimensions - computationally intractable for symbolic manipulation.

**Solution**: Restrict to **rank-1 elements** in the Clifford component.

**Rank-1 basis**:

```
E_{h,d,â„“} = r^h âŠ— e_â„“ âŠ— Ï„^d
```

where:

- h âˆˆ {0,1,2,3} - quadrant index (from â„¤â‚„)
- â„“ âˆˆ {0,1,2,3,4,5,6,7} - context index (from Clâ‚€,â‚‡)
  - â„“ = 0: scalar (grade 0)
  - â„“ = 1..7: basis vectors eâ‚, ..., eâ‚‡ (grade 1)
- d âˆˆ {0,1,2} - modality index (from â„¤â‚ƒ)

**Count**:

```
|{E_{h,d,â„“}}| = 4 Ã— 8 Ã— 3 = 96
```

**This is where the 96 classes emerge.**

**Key Insight**: Rank-1 elements form a **spanning set** for computational purposes:

- Linear combinations of rank-1 elements can approximate higher-rank elements
- 96 classes provide a **discrete coordinate system** for the continuous SGA space
- Computationally tractable (finite) while algebraically rich (embedded in SGA)

**Implementation**:

- [class-system/class.ts](../../packages/core/src/class-system/class.ts): Class index â†” (hâ‚‚, d, â„“) bijection
- [bridge/lift.ts](../../packages/core/src/bridge/lift.ts): Class â†’ SGA embedding

## Coordinate Encoding

**Class index formula**:

```
class(h, d, â„“) = 24h + 8d + â„“
```

**Inversion**:

```
h = âŒŠclass / 24âŒ‹
d = âŒŠ(class mod 24) / 8âŒ‹
â„“ = class mod 8
```

**Byte encoding**:

```
hâ‚‚ = (bâ‚‡ << 1) | bâ‚†          (bits 7-6 encode quadrant)
d  = decode(bâ‚…, bâ‚„)          (bits 5-4 encode modality)
â„“  = (bâ‚ƒ << 2) | (bâ‚‚ << 1) | bâ‚  (bits 3-1 encode context)
bâ‚€ = 0                        (LSB cleared for canonical form)
```

**Modality encoding**:

```
d=0 (neutral):  bâ‚…=0, bâ‚„=0
d=1 (produce):  bâ‚…=0, bâ‚„=1
d=2 (consume):  bâ‚…=1, bâ‚„=0
(bâ‚…=1, bâ‚„=1 is unused - creates equivalence classes)
```

**Implementation**: [class-system/class.ts](../../packages/core/src/class-system/class.ts) (encodeComponentsToByte)

## Algebra Operations on Rank-1 Elements

While rank-1 elements are restricted to grade â‰¤ 1 in Clifford component, they still support:

**Addition** (inherits from SGA):

```
E_{h,d,â„“} + E_{h',d',â„“'} âˆˆ SGA  (may leave rank-1 subspace)
```

**Scalar multiplication** (stays in rank-1):

```
Î± Â· E_{h,d,â„“} = E_{h,d,â„“}  (up to normalization)
```

**Geometric product** (may leave rank-1):

```
E_{h,d,â„“} Â· E_{h',d',â„“'} âˆˆ SGA  (possibly higher grade)
```

**Automorphisms** (stay in rank-1):

```
R(E_{h,d,â„“}) = E_{(h+1 mod 4),d,â„“}
D(E_{h,d,â„“}) = E_{h,(d+1 mod 3),â„“}
T(E_{h,d,â„“}) = E_{h,d,(â„“+1 mod 8)}
M(E_{h,d,â„“}) = E_{h,(3-d mod 3),â„“}
```

**Key Property**: Transforms preserve rank-1 structure - critical for computational tractability.

**Implementation**:

- [sga/transforms.ts](../../packages/core/src/sga/transforms.ts): Full SGA transforms
- [class-system/class.ts](../../packages/core/src/class-system/class.ts): Class permutations

## The Bridge: Class â†” SGA

The **bridge** is a pair of functorial mappings:

**Lift**: Class Index â†’ SGA Element

```
lift: {0..95} â†’ SGA
lift(c) = r^h âŠ— e_â„“ âŠ— Ï„^d    where (h,d,â„“) = decompose(c)
```

**Project**: SGA Element â†’ Class Index

```
project: SGA â†’ {0..95} âˆª {error}
project(r^h âŠ— e_â„“ âŠ— Ï„^d) = class(h,d,â„“)
project(x) = error  if x is not rank-1
```

**Fundamental Property (Commutative Diagrams)**:

For all transforms g âˆˆ {R, D, T, M} and classes c âˆˆ {0..95}:

```
project(g_SGA(lift(c))) = g_class(c)
```

**Verification**: [bridge/validation.ts](../../packages/core/src/bridge/validation.ts)

- 1,248 commutative diagram tests (all pass)
- Proves that class permutations and SGA automorphisms are "the same thing"

This is **not** empirical testing - it is **exhaustive verification** for the finite system.

## Why This Algebraic Structure?

**Inevitability argument**:

1. **Need geometric structure**: Clifford algebra (most general geometric product)
2. **Need discrete symmetries**: Group algebras â„¤â‚„ (quadrants) and â„¤â‚ƒ (triality)
3. **Need computational tractability**: Rank-1 restriction (96 classes)
4. **Need correctness**: Bridge verification (algebra = permutations)

**Each choice is forced by universal properties** (see [Universal Properties](./universal-properties.md)).

The algebraic foundation is **not designed** - it is the **unique minimal structure** satisfying these requirements.

## Summary Table

| Algebra Factor   | Dimension | Generator | Semantic Role           | Implementation                                                         |
| ---------------- | --------- | --------- | ----------------------- | ---------------------------------------------------------------------- |
| Clâ‚€,â‚‡            | 128       | eâ‚..eâ‚‡    | Context (what)          | [sga/clifford.ts](../../packages/core/src/sga/clifford.ts)             |
| â„[â„¤â‚„]            | 4         | r         | Scope (where)           | [sga/group-algebras.ts](../../packages/core/src/sga/group-algebras.ts) |
| â„[â„¤â‚ƒ]            | 3         | Ï„         | Modality (how)          | [sga/group-algebras.ts](../../packages/core/src/sga/group-algebras.ts) |
| **SGA (full)**   | **1,536** | â€”         | Full algebra            | [sga/](../../packages/core/src/sga/)                                   |
| **Rank-1 Basis** | **96**    | â€”         | Computational substrate | [class-system/](../../packages/core/src/class-system/)                 |

---

**Conclusion**: The algebraic foundation of Atlas is a **discovered structure** - the tensor product **Clâ‚€,â‚‡ âŠ— â„[â„¤â‚„] âŠ— â„[â„¤â‚ƒ]** restricted to rank-1 elements. The 96 classes are not arbitrary but **inevitable**.
